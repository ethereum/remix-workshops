在本节中，我们将探讨撤销确认的过程。 当所有者改变对交易的想法并想要阻止其执行时，此过程是必要的。 这部分将非常简单。

## revokeConfirmation 事件

在第 14 行，我们添加了 `RevokeConfirmation` 事件。 每当交易确认被所有者撤销时，就会发出此事件。

## revokeConfirmation 函数

在第 129 行，我们添加了 `revokeConfirmation` 函数。 它允许用户撤销交易确认。

`revokeConfirmation` 需要一个参数：`txIndex`。 它有三个修饰符：`onlyOwner`, `txExists`, 和 `notExecuted`。

在第 134 行，我们要求调用方已确认交易。 这确保了已确认交易的所有者只能撤销自己的确认。
然后，我们递减交易的`numConfirmations`变量，并将交易索引和调用者地址的`isConfirmed`映射设置为 false。 最后，我们发出 `RevokeConfirmation` 事件。

## 结论

在本节中，我们探讨了撤销确认的过程。 我们检查了`revokeConfirmation`函数并了解它如何允许用户撤销确认。

## ⭐ 作业: 撤销一个确认

确认并撤销将 2 以太币发送到“账户”下拉菜单中的第一个账户的交易。

1. 与之前的作业一样，部署多重签名合约，向合约发送一些以太币，然后向“账户”下拉菜单中的第一个账户提交一笔交易，交易值为 2 以太币。
2. 与之前的任务一样确认交易两次。
3. 通过点击`revokeConfirmation` 并插入 0 作为交易索引来撤销交易。 如果您再次点击 `getTransaction` ，您应该会看到交易已被确认一次。

## 最终结论

在本教程中，我们探索了创建多重签名钱包的过程。 我们学习了如何初始化合约、存入以太币、提交、确认和撤销交易。 我们还学习了如何执行交易和检索有关多重签名钱包的信息。