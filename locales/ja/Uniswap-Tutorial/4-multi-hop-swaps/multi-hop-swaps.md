このセクションでは、`UniswapV3SwapExamples`コントラクトにある`swapExactInputMultiHop`関数について詳しく解説します。 この関数は、ユーザーがカスタムパスを指定することで複数の流動性プールを介することができます。これにより、より複雑なトークンスワップが可能になります。

例えば、ユーザーがトークンAをトークンDに交換したいとして、直接交換するAとDの流動性プールが無いとします。この場合は、ユーザーが複数のトークンを経由するパスを指定することができます。 いわば、ユーザーは、AをBに交換、そしてBをCに交換、最後にCをDに交換ことができます。この道筋がUniswap V3スワップコントラクトによって自動的に行われます。

### パラメーターと戻り値

32行目では、`swapExactInputMultiHop`という関数が定義されています。 この関数は、マルチホップスワップを実行します。 この関数は、次のパラメータを受け取ります。

- **`bytes calldata path`**: エンコードされたスワップパス(どのトークンを経由してスワップするか)についての情報
- **`address tokenIn`**: 送信されるトークンのアドレス
- **`uint amountIn`**: 送信される入力トークンの量

受け取る出力トークンの量である`amountOut`という`uint`を返します。

### 関数の本体

関数本体では、38行目で最初に送信者から、このコントラクトに入力トークンを送信します。
そして、41行目で私たちの代わりにUniswapスワップルーターが入力トークンを使用できるように承認します。

43行目では、73行目にある`ExactInputParams`構造体のインスタンスを作成しています。 この構造体は、81行目にマルチホップスワップを実行する `exactInput`  関数で必要とされるパラメータを含んでいます。

構造体のパラメータを次のように設定しています。

- **`path`**: 関数の`path`パラメータに設定しています。
- **`recipient`**: トランザクションの送信者に設定しています。
- **`deadline`**: 現在のタイムスタンプを設定しています。 この設定をしている理由は、できるだけ早くトランザクション処理をしたいためです。
- **`amountIn`**: 関数の`amountln`パラメータに設定しています。
- **`amountOutMinimum`**: 0を設定しています。理由は、受け取る出力トークンの最小量を指定したくないためです。

53行目で`exactInput` を呼び出してマルチホップスワップを実行します。 この関数は、受け取った出力トークンの量を返します。
