ユーザーは、シングルホップスワップで流動性プール内にあるトークンと別のトークンを交換することができます。 このセクションでは、Uniswap V3 スワップコントラクトを使用してシングルホップスワップの実行をする方法を学びます。

## 関数パラメータ

8行目で`swapExactInputSingleHop`とういう名の関数を定義しています。 この関数は、シングルホップスワップを実行します。 この関数は、以下のパラメータを受け取ります。

- **`address tokenIn`**: 送信されるトークンのアドレス
- **`address tokenOut`**: 受け取るトークンのアドレス
- **`uint24 poolFee`**: スワップの手数料
- **`uint amountIn`**: 送信される入力トークンの量

受け取る出力トークンの量である`amountOut`という`uint`を返します。

## 関数の本体

関数本体では、14行目で最初に送信者から、このコントラクトに入力トークンを送信します。
そして、15行目で私たちの代わりに入力トークンを使用できるように承認します。

17行目では、`ExactInputSingleParams` 構造体のインスタンスを作成します。 この構造体は、45行目にシングルホップスワップを実行する`exactInputSingle` 関数で必要とされるパラメータを含んでいます。 この行において`ISwapRouter.ExactInputSingleParams`を2回繰り返している理由は、インターフェースで定義されている構造体のインスタンスを作成しているためです。

## ExactInputSingleParams構造体のパラメータ

構造体のパラメータを次のように設定しています。

- **`tokenIn`**:  関数の`tokenIn`パラメータに設定しています。
- **`tokenOut`**: 関数の`tokenOut`パラメータに設定しています。
- **`fee`**: 関数の`poolFee`パラメータに設定しています。
- **`recipient`**: トランザクションの送信者に設定しています。
- **`deadline`**: 現在のタイムスタンプを設定しています。 この設定をしている理由は、できるだけ早くトランザクション処理をしたいためです。
- **`amountIn`**: 関数の`amountln`パラメータに設定しています。
- **`amountOutMinimum`**: 0を設定しています。理由は、受け取る出力トークンの最小量を指定したくないためです。
- **`sqrtPriceLimitX96`**: 0に設定しています。理由は、価格の制限を指定したくないためです。

## シングルホップスワップの実行

29行目で、 `exactInputSingle`関数の出力を`amountOut`変数に割り当てています。 この関数は、シングルホップスワップを実行し、受け取った出力トークンの量を返します。
