このセクションでは、ブロックチェーンの状態を変更しない関数のタイプである、_ビュー_関数および_ピュア_関数を学びます。

### ビュー関数

_ビュー関数_は、状態を変更しないことを約束します。

次の文があると、状態の変更とされます。

1. 状態変数の書き込み
2. イベントの発行
3. 他のコントラクトの作成
4. selfdestructの使用
5. callを経由してEtherを送信
6. viewまたはpureと書かれていない関数の呼び出し
7. 低レベルの呼び出しの使用
8. 特定のオペコードを含んだインラインアセンブリの使用

参照元: <a href="https://docs.soliditylang.org/en/latest/contracts.html#view-functions" target="_blank">Solidityドキュメント</a>

ビュー関数は、キーワード`view`を使用して宣言します。 このコントラクトでは、`addToX`(8行目)がビュー関数です。 この関数は、パラメータ`y`を取り、そのパラメータと状態変数`x`の合計を返します。 この関数は、`x`を読み込みますが変更しません。

### ピュア関数

_ピュア関数_は、状態の変更も読み込みも行わないことを約束します。

状態を変更する文について上記で説明したことに加え、次のことが状態の読み込みと見なされます。

1. 状態変数の読み込み
2. `address(this).balance`または`<address>.balance`へのアクセス
3. block、tx、msgのメンバーのいずれかにアクセスすること(`msg.sig`および`msg.data`を除く)
4. pureと書かれていない関数の呼び出し
5. 特定のオペコードを含んだインラインアセンブリの使用

参照元: <a href="https://docs.soliditylang.org/en/latest/contracts.html#pure-functions" target="_blank">Solidityドキュメント</a>

ピュア関数は、キーワード`pure`を使用して宣言します。 このコントラクトでは、`add`(13行目)がピュア関数です。 この関数は、パラメータ`i`と`j`を取り、それらの合計を返します。 状態変数`x`の読み込みも変更も行いません。

Solidity開発では、計算コスト(ガス代)を節約するためにコードを最適化する必要があります。 ビュー関数やピュア関数の宣言は、ガス代を節約して、コードをより読みやすく、メンテナンスしやすくします。 ピュア関数は、副作用がありません。そのため、同じ引数を渡した場合は、常に同じ結果を返します。

<a href="https://www.youtube.com/watch?v=vOmXqJ4Qzbc" target="_blank">ピュア関数のビデオチュートリアルをご覧ください</a>。

## ⭐️ 演習

`addToX2`という関数を作成し、パラメータ`y`を取り、そのパラメータと状態変数`x`の合計で状態変数`x`を更新するようにしましょう。